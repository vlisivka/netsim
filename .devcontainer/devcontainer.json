{
  "name": "NetSim",
  "image": "mcr.microsoft.com/devcontainers/php",
  "forwardPorts": [8080],
  "portsAttributes": {
    "8080": {
      "label": "NetSim",
      "protocol": "http",
      "onAutoForward": "openBrowser"
    }
  },
  "features": {
    "ghcr.io/warrenbuckley/codespace-features/sqlite:latest": {}
  },
  "postCreateCommand": {
    "docRoot": "sudo rm -rf /var/www/html && sudo ln -s /workspaces/netsim/ /var/www/html",
    "dbRoot": "sudo bash /workspaces/netsim/createDB.bash",
    "removePort": "sudo sed -i '/^Listen 80$/d' /etc/apache2/ports.conf",
    "changePort": "sudo sed -i 's/^<VirtualHost *:80>$/<VirtualHost *:8080>/' /etc/apache2/sites-available/000-default.conf",
    "addName": "sudo sed -i '/^#ServerRoot/a ServerName netsim' /etc/apache2/apache2.conf"
  },
  "postAttachCommand": {
    "server": "sudo apache2ctl start",
    "prompt": "echo 'Running on http://localhost:8080'"
  },
  "customizations": {
    "codespaces": {
      "openFiles": ["README.md"]
    }
  }
}
